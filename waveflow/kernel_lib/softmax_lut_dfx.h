/*
 * Copyright (c) 2010-2018 Wave Computing, Inc. and its applicable licensors.   
 * All rights reserved; provided, that any files identified as open source shall
 * be governed by the specific open source license(s) applicable to such files. 
 *
 * For any files associated with distributions under the Apache 2.0 license, 
 * full attribution to The Apache Software Foundation is given via the license 
 * below.
 */
/*
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * 
 *     http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
*/
#if defined(USE_VECTOR_INSTRUCTIONS)

constexpr int32_t EXP_LUT_SIZE = 333;

constexpr int32_t LUT(int32_t x, int32_t y) { return (x << 16) | (-y & 0xffff); }

constexpr int32_t exp_lut[EXP_LUT_SIZE] =
{
    LUT(16384, 15880), LUT(15880, 15391), LUT(15391, 14918), LUT(14918, 14459),
    LUT(14459, 14014), LUT(14014, 13583), LUT(13583, 13165), LUT(13165, 12760),
    LUT(12760, 12367), LUT(12367, 11987), LUT(11987, 11618), LUT(11618, 11261),
    LUT(11261, 10914), LUT(10914, 10578), LUT(10578, 10253), LUT(10253,  9937),
    LUT( 9937,  9632), LUT( 9632,  9335), LUT( 9335,  9048), LUT( 9048,  8770),
    LUT( 8770,  8500), LUT( 8500,  8238), LUT( 8238,  7985), LUT( 7985,  7739),
    LUT( 7739,  7501), LUT( 7501,  7270), LUT( 7270,  7047), LUT( 7047,  6830),
    LUT( 6830,  6620), LUT( 6620,  6416), LUT( 6416,  6219), LUT( 6219,  6027),
    LUT( 6027,  5842), LUT( 5842,  5662), LUT( 5662,  5488), LUT( 5488,  5319),
    LUT( 5319,  5155), LUT( 5155,  4997), LUT( 4997,  4843), LUT( 4843,  4694),
    LUT( 4694,  4550), LUT( 4550,  4410), LUT( 4410,  4274), LUT( 4274,  4143),
    LUT( 4143,  4015), LUT( 4015,  3892), LUT( 3892,  3772), LUT( 3772,  3656),
    LUT( 3656,  3543), LUT( 3543,  3434), LUT( 3434,  3329), LUT( 3329,  3226),
    LUT( 3226,  3127), LUT( 3127,  3031), LUT( 3031,  2937), LUT( 2937,  2847),
    LUT( 2847,  2760), LUT( 2760,  2675), LUT( 2675,  2592), LUT( 2592,  2513),
    LUT( 2513,  2435), LUT( 2435,  2360), LUT( 2360,  2288), LUT( 2288,  2217),
    LUT( 2217,  2149), LUT( 2149,  2083), LUT( 2083,  2019), LUT( 2019,  1957),
    LUT( 1957,  1897), LUT( 1897,  1838), LUT( 1838,  1782), LUT( 1782,  1727),
    LUT( 1727,  1674), LUT( 1674,  1622), LUT( 1622,  1572), LUT( 1572,  1524),
    LUT( 1524,  1477), LUT( 1477,  1432), LUT( 1432,  1388), LUT( 1388,  1345),
    LUT( 1345,  1304), LUT( 1304,  1263), LUT( 1263,  1225), LUT( 1225,  1187),
    LUT( 1187,  1150), LUT( 1150,  1115), LUT( 1115,  1081), LUT( 1081,  1047),
    LUT( 1047,  1015), LUT( 1015,   984), LUT(  984,   954), LUT(  954,   924),
    LUT(  924,   896), LUT(  896,   868), LUT(  868,   842), LUT(  842,   816),
    LUT(  816,   791), LUT(  791,   766), LUT(  766,   743), LUT(  743,   720),
    LUT(  720,   698), LUT(  698,   676), LUT(  676,   655), LUT(  655,   635),
    LUT(  635,   616), LUT(  616,   597), LUT(  597,   578), LUT(  578,   561),
    LUT(  561,   543), LUT(  543,   527), LUT(  527,   510), LUT(  510,   495),
    LUT(  495,   480), LUT(  480,   465), LUT(  465,   450), LUT(  450,   437),
    LUT(  437,   423), LUT(  423,   410), LUT(  410,   398), LUT(  398,   385),
    LUT(  385,   373), LUT(  373,   362), LUT(  362,   351), LUT(  351,   340),
    LUT(  340,   330), LUT(  330,   319), LUT(  319,   310), LUT(  310,   300),
    LUT(  300,   291), LUT(  291,   282), LUT(  282,   273), LUT(  273,   265),
    LUT(  265,   257), LUT(  257,   249), LUT(  249,   241), LUT(  241,   234),
    LUT(  234,   227), LUT(  227,   220), LUT(  220,   213), LUT(  213,   206),
    LUT(  206,   200), LUT(  200,   194), LUT(  194,   188), LUT(  188,   182),
    LUT(  182,   176), LUT(  176,   171), LUT(  171,   166), LUT(  166,   161),
    LUT(  161,   156), LUT(  156,   151), LUT(  151,   146), LUT(  146,   142),
    LUT(  142,   137), LUT(  137,   133), LUT(  133,   129), LUT(  129,   125),
    LUT(  125,   121), LUT(  121,   118), LUT(  118,   114), LUT(  114,   110),
    LUT(  110,   107), LUT(  107,   104), LUT(  104,   101), LUT(  101,    97),
    LUT(   97,    94), LUT(   94,    92), LUT(   92,    89), LUT(   89,    86),
    LUT(   86,    83), LUT(   83,    81), LUT(   81,    78), LUT(   78,    76),
    LUT(   76,    74), LUT(   74,    71), LUT(   71,    69), LUT(   69,    67),
    LUT(   67,    65), LUT(   65,    63), LUT(   63,    61), LUT(   61,    59),
    LUT(   59,    57), LUT(   57,    56), LUT(   56,    54), LUT(   54,    52),
    LUT(   52,    51), LUT(   51,    49), LUT(   49,    47), LUT(   47,    46),
    LUT(   46,    45), LUT(   45,    43), LUT(   43,    42), LUT(   42,    41),
    LUT(   41,    39), LUT(   39,    38), LUT(   38,    37), LUT(   37,    36),
    LUT(   36,    35), LUT(   35,    34), LUT(   34,    33), LUT(   33,    32),
    LUT(   32,    31), LUT(   31,    30), LUT(   30,    29), LUT(   29,    28),
    LUT(   28,    27), LUT(   27,    26), LUT(   26,    25), LUT(   25,    25),
    LUT(   25,    24), LUT(   24,    23), LUT(   23,    22), LUT(   22,    22),
    LUT(   22,    21), LUT(   21,    20), LUT(   20,    20), LUT(   20,    19),
    LUT(   19,    19), LUT(   19,    18), LUT(   18,    17), LUT(   17,    17),
    LUT(   17,    16), LUT(   16,    16), LUT(   16,    15), LUT(   15,    15),
    LUT(   15,    14), LUT(   14,    14), LUT(   14,    14), LUT(   14,    13),
    LUT(   13,    13), LUT(   13,    12), LUT(   12,    12), LUT(   12,    12),
    LUT(   12,    11), LUT(   11,    11), LUT(   11,    11), LUT(   11,    10),
    LUT(   10,    10), LUT(   10,    10), LUT(   10,     9), LUT(    9,     9),
    LUT(    9,     9), LUT(    9,     9), LUT(    9,     8), LUT(    8,     8),
    LUT(    8,     8), LUT(    8,     8), LUT(    8,     7), LUT(    7,     7),
    LUT(    7,     7), LUT(    7,     7), LUT(    7,     6), LUT(    6,     6),
    LUT(    6,     6), LUT(    6,     6), LUT(    6,     6), LUT(    6,     5),
    LUT(    5,     5), LUT(    5,     5), LUT(    5,     5), LUT(    5,     5),
    LUT(    5,     5), LUT(    5,     5), LUT(    5,     4), LUT(    4,     4),
    LUT(    4,     4), LUT(    4,     4), LUT(    4,     4), LUT(    4,     4),
    LUT(    4,     4), LUT(    4,     4), LUT(    4,     3), LUT(    3,     3),
    LUT(    3,     3), LUT(    3,     3), LUT(    3,     3), LUT(    3,     3),
    LUT(    3,     3), LUT(    3,     3), LUT(    3,     3), LUT(    3,     3),
    LUT(    3,     3), LUT(    3,     2), LUT(    2,     2), LUT(    2,     2),
    LUT(    2,     2), LUT(    2,     2), LUT(    2,     2), LUT(    2,     2),
    LUT(    2,     2), LUT(    2,     2), LUT(    2,     2), LUT(    2,     2),
    LUT(    2,     2), LUT(    2,     2), LUT(    2,     2), LUT(    2,     2),
    LUT(    2,     2), LUT(    2,     1), LUT(    1,     1), LUT(    1,     1),
    LUT(    1,     1), LUT(    1,     1), LUT(    1,     1), LUT(    1,     1),
    LUT(    1,     1), LUT(    1,     1), LUT(    1,     1), LUT(    1,     1),
    LUT(    1,     1), LUT(    1,     1), LUT(    1,     1), LUT(    1,     1),
    LUT(    1,     1), LUT(    1,     1), LUT(    1,     1), LUT(    1,     1),
    LUT(    1,     1), LUT(    1,     1), LUT(    1,     1), LUT(    1,     1),
    LUT(    1,     1), LUT(    1,     1), LUT(    1,     1), LUT(    1,     1),
    LUT(    1,     1), LUT(    1,     1), LUT(    1,     1), LUT(    1,     1),
    LUT(    1,     1), LUT(    1,     1), LUT(    1,     1), LUT(    1,     1),
    LUT(    1,     0)
};

#else

constexpr int32_t EXP_LUT_SIZE = 334;

constexpr int32_t exp_lut[EXP_LUT_SIZE] =
{
    16384, 15880, 15391, 14918, 14459, 14014, 13583, 13165,
    12760, 12367, 11987, 11618, 11261, 10914, 10578, 10253,
     9937,  9632,  9335,  9048,  8770,  8500,  8238,  7985,
     7739,  7501,  7270,  7047,  6830,  6620,  6416,  6219,
     6027,  5842,  5662,  5488,  5319,  5155,  4997,  4843,
     4694,  4550,  4410,  4274,  4143,  4015,  3892,  3772,
     3656,  3543,  3434,  3329,  3226,  3127,  3031,  2937,
     2847,  2760,  2675,  2592,  2513,  2435,  2360,  2288,
     2217,  2149,  2083,  2019,  1957,  1897,  1838,  1782,
     1727,  1674,  1622,  1572,  1524,  1477,  1432,  1388,
     1345,  1304,  1263,  1225,  1187,  1150,  1115,  1081,
     1047,  1015,   984,   954,   924,   896,   868,   842,
      816,   791,   766,   743,   720,   698,   676,   655,
      635,   616,   597,   578,   561,   543,   527,   510,
      495,   480,   465,   450,   437,   423,   410,   398,
      385,   373,   362,   351,   340,   330,   319,   310,
      300,   291,   282,   273,   265,   257,   249,   241,
      234,   227,   220,   213,   206,   200,   194,   188,
      182,   176,   171,   166,   161,   156,   151,   146,
      142,   137,   133,   129,   125,   121,   118,   114,
      110,   107,   104,   101,    97,    94,    92,    89,
       86,    83,    81,    78,    76,    74,    71,    69,
       67,    65,    63,    61,    59,    57,    56,    54,
       52,    51,    49,    47,    46,    45,    43,    42,
       41,    39,    38,    37,    36,    35,    34,    33,
       32,    31,    30,    29,    28,    27,    26,    25,
       25,    24,    23,    22,    22,    21,    20,    20,
       19,    19,    18,    17,    17,    16,    16,    15,
       15,    14,    14,    14,    13,    13,    12,    12,
       12,    11,    11,    11,    10,    10,    10,     9,
        9,     9,     9,     8,     8,     8,     8,     7,
        7,     7,     7,     6,     6,     6,     6,     6,
        5,     5,     5,     5,     5,     5,     5,     4,
        4,     4,     4,     4,     4,     4,     4,     3,
        3,     3,     3,     3,     3,     3,     3,     3,
        3,     3,     2,     2,     2,     2,     2,     2,
        2,     2,     2,     2,     2,     2,     2,     2,
        2,     2,     1,     1,     1,     1,     1,     1,
        1,     1,     1,     1,     1,     1,     1,     1,
        1,     1,     1,     1,     1,     1,     1,     1,
        1,     1,     1,     1,     1,     1,     1,     1,
        1,     1,     1,     1,     1,     0
};

#endif

constexpr int32_t RECIP_LUT_SIZE = 128;

constexpr int32_t recip_lut[RECIP_LUT_SIZE] =
{
    16384, 16257, 16132, 16009, 15888, 15768, 15650, 15534, 
    15420, 15308, 15197, 15087, 14980, 14873, 14769, 14665, 
    14564, 14463, 14364, 14266, 14170, 14075, 13981, 13888, 
    13797, 13707, 13618, 13530, 13443, 13358, 13273, 13190, 
    13107, 13026, 12945, 12866, 12788, 12710, 12633, 12558, 
    12483, 12409, 12336, 12264, 12193, 12122, 12053, 11984, 
    11916, 11848, 11782, 11716, 11651, 11586, 11523, 11460, 
    11398, 11336, 11275, 11215, 11155, 11096, 11038, 10980, 
    10923, 10866, 10810, 10755, 10700, 10645, 10592, 10538, 
    10486, 10434, 10382, 10331, 10280, 10230, 10180, 10131, 
    10082, 10034,  9986,  9939,  9892,  9846,  9800,  9754, 
     9709,  9664,  9620,  9576,  9533,  9489,  9447,  9404, 
     9362,  9321,  9279,  9239,  9198,  9158,  9118,  9079, 
     9039,  9001,  8962,  8924,  8886,  8849,  8812,  8775, 
     8738,  8702,  8666,  8630,  8595,  8560,  8525,  8490, 
     8456,  8422,  8389,  8355,  8322,  8289,  8257,  8224
};

constexpr int32_t LOG_LUT_SIZE = 129;

constexpr int32_t log_lut[LOG_LUT_SIZE] = 
{
    22713, 22458, 22205, 21954, 21705, 21457, 21212, 20968,
    20726, 20486, 20248, 20012, 19777, 19543, 19312, 19082,
    18854, 18627, 18402, 18178, 17956, 17735, 17516, 17298,
    17082, 16867, 16654, 16441, 16231, 16021, 15813, 15607,
    15401, 15197, 14994, 14792, 14592, 14393, 14195, 13998,
    13802, 13608, 13415, 13222, 13031, 12841, 12652, 12465,
    12278, 12092, 11908, 11724, 11542, 11360, 11179, 11000,
    10821, 10644, 10467, 10291, 10117,  9943,  9770,  9598,
     9427,  9257,  9087,  8919,  8751,  8584,  8418,  8253,
     8089,  7926,  7763,  7601,  7440,  7280,  7121,  6962,
     6804,  6647,  6490,  6335,  6180,  6026,  5872,  5719,
     5567,  5416,  5265,  5115,  4966,  4817,  4669,  4522,
     4376,  4230,  4084,  3940,  3796,  3652,  3509,  3367,
     3226,  3085,  2944,  2805,  2666,  2527,  2389,  2252,
     2115,  1979,  1843,  1708,  1573,  1439,  1306,  1173,
     1040,   908,   777,   646,   516,   386,   257,   128,
        0
};
